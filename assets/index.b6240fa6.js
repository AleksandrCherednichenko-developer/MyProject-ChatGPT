import{u as H,i as K,d as P,r as O,e as Y,f as q,g as X,h as G,j as J,k as Z,n as ee,l as te,w as se,_ as x,o as u,c as i,b as h,m as S,p as ne,t as oe,q as g,a as y,s as b,v as F,x as ae,y as re,z as ce,F as w,A as V,B as ue}from"./index.bb0e6908.js";const{VITE_API_KEY:le}={VITE_API_KEY:"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",VITE_API_CHAT:"https://api.openai.com/v1/chat/completions",VITE_API_TEXT:"https://api.openai.com/v1/completions",VITE_API_IMAGE:"https://api.openai.com/v1/images/generations",VITE_API_AUDIO:"https://api.openai.com/v1/audio/transcriptions",VITE_API_MODEL_CHAT:"gpt-3.5-turbo",VITE_API_MODEL_TEXT:"text-davinci-003",VITE_API_MODEL_AUDIO:"whisper-1",VITE_DEFAULT_LOCALE:"en",VITE_FALLBACK_LOCALE:"ru",VITE_SUPPORTED_LOCALES:"en,ru",BASE_URL:"/MyProject-OpenAI/",MODE:"production",DEV:!1,PROD:!0},ie="Content-Type",j="application/json";async function _e({method:e="POST",mimeType:s=j,uri:t,body:o}){const a={code:418,ok:!1};let n=null;const r={method:e,headers:{Authorization:`Bearer ${le}`,"Content-Type":s},body:JSON.stringify(o)};try{const c=await fetch(t,r);a.code=c==null?void 0:c.status,a.ok=c==null?void 0:c.ok,c.headers.get(ie).split(";")[0]===j&&(n=await c.json().catch(()=>null)),n!=null||(n={message:c.message})}catch(c){console.log(c)}return{status:a,payload:n}}class lt{static async POST({uri:s,body:t=null}){return _e({method:"POST",uri:s,body:t})}}const B=H(),{t:E}=K.global,pe=(e=null)=>B.success(E(e?`${e}`:"toast.success"),{timeout:P}),it=(e=null)=>B.error(E(e?`${e}`:"toast.error"),{timeout:P}),_t=(e=null)=>B.warning(E(e?`${e}`:"toast.warning"),{timeout:P});var D;const T=typeof window<"u",de=e=>typeof e=="string",fe=()=>{};T&&((D=window==null?void 0:window.navigator)==null?void 0:D.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function $(e){return typeof e=="function"?e():q(e)}function ge(e){return e}function Q(e){return X()?(G(e),!0):!1}function ye(e,s=!0){J()?Z(e):s?e():ee(e)}function me(e,s,t={}){const{immediate:o=!0}=t,a=O(!1);let n=null;function r(){n&&(clearTimeout(n),n=null)}function c(){a.value=!1,r()}function p(...d){r(),a.value=!0,n=setTimeout(()=>{a.value=!1,n=null,e(...d)},$(s))}return o&&(a.value=!0,T&&p()),Q(c),{isPending:Y(a),start:p,stop:c}}function ve(e){var s;const t=$(e);return(s=t==null?void 0:t.$el)!=null?s:t}const Ie=T?window:void 0;T&&window.document;const be=T?window.navigator:void 0;T&&window.location;function Oe(...e){let s,t,o,a;if(de(e[0])||Array.isArray(e[0])?([t,o,a]=e,s=Ie):[s,t,o,a]=e,!s)return fe;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const n=[],r=()=>{n.forEach(_=>_()),n.length=0},c=(_,m,v,I)=>(_.addEventListener(m,v,I),()=>_.removeEventListener(m,v,I)),p=se(()=>[ve(s),$(a)],([_,m])=>{r(),_&&n.push(...t.flatMap(v=>o.map(I=>c(_,v,I,m))))},{immediate:!0,flush:"post"}),d=()=>{p(),r()};return Q(d),d}function he(e,s=!1){const t=O(),o=()=>t.value=Boolean(e());return o(),ye(o,s),t}function Ee(e={}){const{navigator:s=be,read:t=!1,source:o,copiedDuring:a=1500,legacy:n=!1}=e,r=["copy","cut"],c=he(()=>s&&"clipboard"in s),p=te(()=>c.value||n),d=O(""),_=O(!1),m=me(()=>_.value=!1,a);function v(){c.value?s.clipboard.readText().then(l=>{d.value=l}):d.value=W()}if(p.value&&t)for(const l of r)Oe(l,v);async function I(l=$(o)){p.value&&l!=null&&(c.value?await s.clipboard.writeText(l):R(l),d.value=l,_.value=!0,m.start())}function R(l){const f=document.createElement("textarea");f.value=l!=null?l:"",f.style.position="absolute",f.style.opacity="0",document.body.appendChild(f),f.select(),document.execCommand("copy"),f.remove()}function W(){var l,f,L;return(L=(f=(l=document==null?void 0:document.getSelection)==null?void 0:l.call(document))==null?void 0:f.toString())!=null?L:""}return{isSupported:p,text:d,copied:_,copy:I}}const C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k="__vueuse_ssr_handlers__";C[k]=C[k]||{};C[k];var N;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(N||(N={}));var Te=Object.defineProperty,U=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,we=Object.prototype.propertyIsEnumerable,z=(e,s,t)=>s in e?Te(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,Se=(e,s)=>{for(var t in s||(s={}))xe.call(s,t)&&z(e,t,s[t]);if(U)for(var t of U(s))we.call(s,t)&&z(e,t,s[t]);return e};const $e={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Se({linear:ge},$e);const Ae=["onClick"],Ce={name:"CopyButton"},ke=Object.assign(Ce,{props:{text:{type:String,default:"",required:!0}},setup(e){const s=e,{copy:t}=Ee(),o=()=>{t(s.text),pe("toast.copy_text")};return(a,n)=>(u(),i("button",{class:"btn copy__btn",onClick:ne(o,["stop","prevent"])},[h(S,{name:"copy"})],8,Ae))}}),Pe=x(ke,[["__scopeId","data-v-74ab1f4a"]]),Be={class:"btn"},Me={name:"FullSizeButton"},Le=Object.assign(Me,{setup(e){return(s,t)=>(u(),i("button",Be,[h(S,{name:"full-size-image"})]))}});const Ve={key:0,class:"message__text"},je={key:1,class:"message__image"},De=["src"],Ne={class:"message__control"},Ue={class:"message__control-btns"},ze={name:"UIMessage"},Fe=Object.assign(ze,{props:{text:{type:String,default:""},src:{type:String,default:""},side:{type:String,default:""}},emits:["open-full-size"],setup(e,{emit:s}){const t=e;return(o,a)=>{var n;return u(),i("div",{class:F(["message",[t.side==="left"?"left-side":"right-side"]])},[t.text?(u(),i("p",Ve,oe(t.text),1)):g("",!0),t.src?(u(),i("div",je,[y("img",{class:"message__image-picture",src:t.src,alt:"OpenAI-image"},null,8,De)])):g("",!0),y("div",Ne,[y("div",Ue,[h(Pe,{text:(n=t.text)!=null?n:t.src},null,8,["text"]),t.src?(u(),b(Le,{key:0,onClick:a[0]||(a[0]=r=>s("open-full-size"))})):g("",!0)])])],2)}}}),A=x(Fe,[["__scopeId","data-v-016d0c2e"]]);const M=e=>(ae("data-v-a9bfd0f7"),e=e(),re(),e),Qe=M(()=>y("span",null,null,-1)),Re=M(()=>y("span",null,null,-1)),We=M(()=>y("span",null,null,-1)),He=[Qe,Re,We],Ke={name:"LoaderMessage"},Ye=Object.assign(Ke,{props:{side:{type:String,default:"left"}},setup(e){const s=e;return(t,o)=>(u(),i("div",{class:F(["loader-message",[s.side==="left"?"left-side":"right-side"]])},He,2))}}),qe=x(Ye,[["__scopeId","data-v-a9bfd0f7"]]),Xe={name:"MessagesBlock"},pt=Object.assign(Xe,{props:{chatMessages:{type:Array,default:()=>[],required:!0},loading:{type:Boolean,required:!0},typeMessages:{type:String,default:"text"}},emits:["toggle-full-size"],setup(e,{emit:s}){const t=e,o=O(null);return ce(()=>{o.value.scrollTop=o.value.scrollHeight}),(a,n)=>(u(),i("div",{ref_key:"messagesBlock",ref:o,class:"chat__page-messages"},[t.typeMessages==="text"?(u(!0),i(w,{key:0},V(t.chatMessages,(r,c)=>(u(),i(w,{key:c},[r.content?(u(),b(A,{key:0,text:r.content,side:r.role==="user"?"right":"left"},null,8,["text","side"])):g("",!0)],64))),128)):t.typeMessages==="image"?(u(!0),i(w,{key:1},V(e.chatMessages,(r,c)=>(u(),i(w,{key:c},[r.role==="user"?(u(),b(A,{key:0,text:r.content,side:"right"},null,8,["text"])):(u(),b(A,{key:1,src:r.content,side:"left",onOpenFullSize:p=>s("toggle-full-size",r.content)},null,8,["src","onOpenFullSize"]))],64))),128)):g("",!0),e.loading?(u(),b(qe,{key:2,side:"left"})):g("",!0)],512))}});const Ge={class:"input__wrapper"},Je=["value","placeholder"],Ze={name:"UIInput"},et=Object.assign(Ze,{props:{value:{type:String,default:""}},emits:["input","clear-input"],setup(e,{emit:s}){const t=e;return(o,a)=>(u(),i("label",Ge,[y("input",{value:t.value,class:"input",placeholder:o.$t("input_placeholder"),onInput:a[0]||(a[0]=n=>s("input",n.target.value.trim()))},null,40,Je),t.value?(u(),b(S,{key:0,class:"input__clear",name:"close",onClick:a[1]||(a[1]=n=>s("clear-input"))})):g("",!0)]))}}),tt=x(et,[["__scopeId","data-v-b7c59224"]]);const st={class:"btn submit__btn"},nt={name:"SendButton"},ot=Object.assign(nt,{setup(e){return(s,t)=>(u(),i("button",st,[h(S,{name:"submit"})]))}}),at=x(ot,[["__scopeId","data-v-705fcab2"]]),rt={class:"chat__page-controls"},ct={name:"ControlsBlock"},dt=Object.assign(ct,{emits:["send-message"],setup(e,{emit:s}){const t=O(""),o=()=>{s("send-message",t.value),t.value=""};return(a,n)=>(u(),i("div",rt,[h(tt,{value:t.value,class:"chat__page-controls-input",onInput:n[0]||(n[0]=r=>t.value=r),onKeydown:n[1]||(n[1]=ue(r=>o(),["enter"])),onClearInput:n[2]||(n[2]=r=>t.value="")},null,8,["value"]),h(at,{class:"chat__page-controls-button",onClick:n[3]||(n[3]=r=>o())})]))}});export{lt as B,pt as _,it as a,dt as b,_t as t};
