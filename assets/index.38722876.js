import{u as W,i as K,d as M,r as O,e as H,f as Y,g as G,h as J,j as X,k as Z,n as ee,l as te,w as se,_ as w,o as u,c as i,b as I,m as k,p as ne,t as oe,q as g,a as y,s as h,v as D,x as ae,y as re,z as ce,F as S,A as N,B as ue}from"./index.01b553e4.js";const{VITE_API_KEY:le}={BASE_URL:"/MyProject-OpenAI/",MODE:"production",DEV:!1,PROD:!0},ie="Content-Type",z="application/json";async function _e({method:e="POST",mimeType:s=z,uri:t,body:o}){const a={code:418,ok:!1};let n=null;const r={method:e,headers:{Authorization:`Bearer ${le}`,"Content-Type":s},body:JSON.stringify(o)};try{const c=await fetch(t,r);a.code=c==null?void 0:c.status,a.ok=c==null?void 0:c.ok,c.headers.get(ie).split(";")[0]===z&&(n=await c.json().catch(()=>null)),n!=null||(n={message:c.message})}catch(c){console.log(c)}return{status:a,payload:n}}class lt{static async POST({uri:s,body:t=null}){return _e({method:"POST",uri:s,body:t})}}const P=W(),{t:x}=K.global,de=(e=null)=>P.success(x(e?`${e}`:"toast.success"),{timeout:M}),it=(e=null)=>P.error(x(e?`${e}`:"toast.error"),{timeout:M}),_t=(e=null)=>P.warning(x(e?`${e}`:"toast.warning"),{timeout:M});var U;const $=typeof window<"u",pe=e=>typeof e=="string",fe=()=>{};$&&((U=window==null?void 0:window.navigator)==null?void 0:U.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function C(e){return typeof e=="function"?e():Y(e)}function ge(e){return e}function R(e){return G()?(J(e),!0):!1}function ye(e,s=!0){X()?Z(e):s?e():ee(e)}function ve(e,s,t={}){const{immediate:o=!0}=t,a=O(!1);let n=null;function r(){n&&(clearTimeout(n),n=null)}function c(){a.value=!1,r()}function d(...p){r(),a.value=!0,n=setTimeout(()=>{a.value=!1,n=null,e(...p)},C(s))}return o&&(a.value=!0,$&&d()),R(c),{isPending:H(a),start:d,stop:c}}function me(e){var s;const t=C(e);return(s=t==null?void 0:t.$el)!=null?s:t}const be=$?window:void 0;$&&window.document;const he=$?window.navigator:void 0;$&&window.location;function Oe(...e){let s,t,o,a;if(pe(e[0])||Array.isArray(e[0])?([t,o,a]=e,s=be):[s,t,o,a]=e,!s)return fe;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const n=[],r=()=>{n.forEach(_=>_()),n.length=0},c=(_,v,m,b)=>(_.addEventListener(v,m,b),()=>_.removeEventListener(v,m,b)),d=se(()=>[me(s),C(a)],([_,v])=>{r(),_&&n.push(...t.flatMap(m=>o.map(b=>c(_,m,b,v))))},{immediate:!0,flush:"post"}),p=()=>{d(),r()};return R(p),p}function Ie(e,s=!1){const t=O(),o=()=>t.value=Boolean(e());return o(),ye(o,s),t}function xe(e={}){const{navigator:s=he,read:t=!1,source:o,copiedDuring:a=1500,legacy:n=!1}=e,r=["copy","cut"],c=Ie(()=>s&&"clipboard"in s),d=te(()=>c.value||n),p=O(""),_=O(!1),v=ve(()=>_.value=!1,a);function m(){c.value?s.clipboard.readText().then(l=>{p.value=l}):p.value=q()}if(d.value&&t)for(const l of r)Oe(l,m);async function b(l=C(o)){d.value&&l!=null&&(c.value?await s.clipboard.writeText(l):V(l),p.value=l,_.value=!0,v.start())}function V(l){const f=document.createElement("textarea");f.value=l!=null?l:"",f.style.position="absolute",f.style.opacity="0",document.body.appendChild(f),f.select(),document.execCommand("copy"),f.remove()}function q(){var l,f,j;return(j=(f=(l=document==null?void 0:document.getSelection)==null?void 0:l.call(document))==null?void 0:f.toString())!=null?j:""}return{isSupported:d,text:p,copied:_,copy:b}}const E=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},B="__vueuse_ssr_handlers__";E[B]=E[B]||{};E[B];var L;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(L||(L={}));var $e=Object.defineProperty,Q=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,Se=Object.prototype.propertyIsEnumerable,F=(e,s,t)=>s in e?$e(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,ke=(e,s)=>{for(var t in s||(s={}))we.call(s,t)&&F(e,t,s[t]);if(Q)for(var t of Q(s))Se.call(s,t)&&F(e,t,s[t]);return e};const Ce={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};ke({linear:ge},Ce);const Te=["onClick"],Ee={name:"CopyButton"},Be=Object.assign(Ee,{props:{text:{type:String,default:"",required:!0}},setup(e){const s=e,{copy:t}=xe(),o=()=>{t(s.text),de("toast.copy_text")};return(a,n)=>(u(),i("button",{class:"btn copy__btn",onClick:ne(o,["stop","prevent"])},[I(k,{name:"copy"})],8,Te))}}),Me=w(Be,[["__scopeId","data-v-74ab1f4a"]]),Pe={class:"btn"},Ae={name:"FullSizeButton"},je=Object.assign(Ae,{setup(e){return(s,t)=>(u(),i("button",Pe,[I(k,{name:"full-size-image"})]))}});const Ne={key:0,class:"message__text"},ze={key:1,class:"message__image"},Ue=["src"],Le={class:"message__control"},Qe={class:"message__control-btns"},Fe={name:"UIMessage"},De=Object.assign(Fe,{props:{text:{type:String,default:""},src:{type:String,default:""},side:{type:String,default:""}},emits:["open-full-size"],setup(e,{emit:s}){const t=e;return(o,a)=>{var n;return u(),i("div",{class:D(["message",[t.side==="left"?"left-side":"right-side"]])},[t.text?(u(),i("p",Ne,oe(t.text),1)):g("",!0),t.src?(u(),i("div",ze,[y("img",{class:"message__image-picture",src:t.src,alt:"OpenAI-image"},null,8,Ue)])):g("",!0),y("div",Le,[y("div",Qe,[I(Me,{text:(n=t.text)!=null?n:t.src},null,8,["text"]),t.src?(u(),h(je,{key:0,onClick:a[0]||(a[0]=r=>s("open-full-size"))})):g("",!0)])])],2)}}}),T=w(De,[["__scopeId","data-v-016d0c2e"]]);const A=e=>(ae("data-v-a9bfd0f7"),e=e(),re(),e),Re=A(()=>y("span",null,null,-1)),Ve=A(()=>y("span",null,null,-1)),qe=A(()=>y("span",null,null,-1)),We=[Re,Ve,qe],Ke={name:"LoaderMessage"},He=Object.assign(Ke,{props:{side:{type:String,default:"left"}},setup(e){const s=e;return(t,o)=>(u(),i("div",{class:D(["loader-message",[s.side==="left"?"left-side":"right-side"]])},We,2))}}),Ye=w(He,[["__scopeId","data-v-a9bfd0f7"]]),Ge={name:"MessagesBlock"},dt=Object.assign(Ge,{props:{chatMessages:{type:Array,default:()=>[],required:!0},loading:{type:Boolean,required:!0},typeMessages:{type:String,default:"text"}},emits:["toggle-full-size"],setup(e,{emit:s}){const t=e,o=O(null);return ce(()=>{o.value.scrollTop=o.value.scrollHeight}),(a,n)=>(u(),i("div",{ref_key:"messagesBlock",ref:o,class:"chat__page-messages"},[t.typeMessages==="text"?(u(!0),i(S,{key:0},N(t.chatMessages,(r,c)=>(u(),i(S,{key:c},[r.content?(u(),h(T,{key:0,text:r.content,side:r.role==="user"?"right":"left"},null,8,["text","side"])):g("",!0)],64))),128)):t.typeMessages==="image"?(u(!0),i(S,{key:1},N(e.chatMessages,(r,c)=>(u(),i(S,{key:c},[r.role==="user"?(u(),h(T,{key:0,text:r.content,side:"right"},null,8,["text"])):(u(),h(T,{key:1,src:r.content,side:"left",onOpenFullSize:d=>s("toggle-full-size",r.content)},null,8,["src","onOpenFullSize"]))],64))),128)):g("",!0),e.loading?(u(),h(Ye,{key:2,side:"left"})):g("",!0)],512))}});const Je={class:"input__wrapper"},Xe=["value","placeholder"],Ze={name:"UIInput"},et=Object.assign(Ze,{props:{value:{type:String,default:""}},emits:["input","clear-input"],setup(e,{emit:s}){const t=e;return(o,a)=>(u(),i("label",Je,[y("input",{value:t.value,class:"input",placeholder:o.$t("input_placeholder"),onInput:a[0]||(a[0]=n=>s("input",n.target.value.trim()))},null,40,Xe),t.value?(u(),h(k,{key:0,class:"input__clear",name:"close",onClick:a[1]||(a[1]=n=>s("clear-input"))})):g("",!0)]))}}),tt=w(et,[["__scopeId","data-v-b7c59224"]]);const st={class:"btn submit__btn"},nt={name:"SendButton"},ot=Object.assign(nt,{setup(e){return(s,t)=>(u(),i("button",st,[I(k,{name:"submit"})]))}}),at=w(ot,[["__scopeId","data-v-705fcab2"]]),rt={class:"chat__page-controls"},ct={name:"ControlsBlock"},pt=Object.assign(ct,{emits:["send-message"],setup(e,{emit:s}){const t=O(""),o=()=>{s("send-message",t.value),t.value=""};return(a,n)=>(u(),i("div",rt,[I(tt,{value:t.value,class:"chat__page-controls-input",onInput:n[0]||(n[0]=r=>t.value=r),onKeydown:n[1]||(n[1]=ue(r=>o(),["enter"])),onClearInput:n[2]||(n[2]=r=>t.value="")},null,8,["value"]),I(at,{class:"chat__page-controls-button",onClick:n[3]||(n[3]=r=>o())})]))}});export{lt as B,dt as _,it as a,pt as b,_t as t};
