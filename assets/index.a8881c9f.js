import{u as H,i as W,d as P,r as h,e as Y,f as G,g as J,h as X,j as Z,k as ee,n as te,l as se,w as ne,_ as x,o as u,c as l,b as O,m as w,p as oe,t as z,q as v,a as g,s as b,v as Q,x as ae,y as re,z as ce,F as $,A as V,B as ue}from"./index.f09b3f80.js";const{VITE_API_KEY:le}={VITE_API_KEY:"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",VITE_API_CHAT:"https://api.openai.com/v1/chat/completions",VITE_API_TEXT:"https://api.openai.com/v1/completions",VITE_API_IMAGE:"https://api.openai.com/v1/images/generations",VITE_API_AUDIO:"https://api.openai.com/v1/audio/transcriptions",VITE_API_MODEL_CHAT:"gpt-3.5-turbo",VITE_API_MODEL_TEXT:"text-davinci-003",VITE_API_MODEL_AUDIO:"whisper-1",VITE_DEFAULT_LOCALE:"en",VITE_FALLBACK_LOCALE:"ru",VITE_SUPPORTED_LOCALES:"en,ru",BASE_URL:"/MyProject-OpenAI/",MODE:"production",DEV:!1,PROD:!0},ie="Content-Type",j="application/json";async function _e({method:e="POST",mimeType:s=j,uri:t,body:o}){const a={code:418,ok:!1};let n=null;const r={method:e,headers:{Authorization:`Bearer ${le}`,"Content-Type":s},body:JSON.stringify(o)};try{const c=await fetch(t,r);a.code=c==null?void 0:c.status,a.ok=c==null?void 0:c.ok,c.headers.get(ie).split(";")[0]===j&&(n=await c.json().catch(()=>null)),n!=null||(n={message:c.message})}catch(c){console.log(c)}return{status:a,payload:n}}class _t{static async POST({uri:s,body:t=null}){return _e({method:"POST",uri:s,body:t})}}const B=H(),{t:T}=W.global,pe=(e=null)=>B.success(T(e?`${e}`:"toast.success"),{timeout:P}),pt=(e=null)=>B.error(T(e?`${e}`:"toast.error"),{timeout:P}),dt=(e=null)=>B.warning(T(e?`${e}`:"toast.warning"),{timeout:P});var D;const E=typeof window<"u",de=e=>typeof e=="string",fe=()=>{};E&&((D=window==null?void 0:window.navigator)==null?void 0:D.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function S(e){return typeof e=="function"?e():G(e)}function ge(e){return e}function R(e){return J()?(X(e),!0):!1}function ve(e,s=!0){Z()?ee(e):s?e():te(e)}function ye(e,s,t={}){const{immediate:o=!0}=t,a=h(!1);let n=null;function r(){n&&(clearTimeout(n),n=null)}function c(){a.value=!1,r()}function p(...d){r(),a.value=!0,n=setTimeout(()=>{a.value=!1,n=null,e(...d)},S(s))}return o&&(a.value=!0,E&&p()),R(c),{isPending:Y(a),start:p,stop:c}}function me(e){var s;const t=S(e);return(s=t==null?void 0:t.$el)!=null?s:t}const Ie=E?window:void 0;E&&window.document;const be=E?window.navigator:void 0;E&&window.location;function he(...e){let s,t,o,a;if(de(e[0])||Array.isArray(e[0])?([t,o,a]=e,s=Ie):[s,t,o,a]=e,!s)return fe;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const n=[],r=()=>{n.forEach(_=>_()),n.length=0},c=(_,y,m,I)=>(_.addEventListener(y,m,I),()=>_.removeEventListener(y,m,I)),p=ne(()=>[me(s),S(a)],([_,y])=>{r(),_&&n.push(...t.flatMap(m=>o.map(I=>c(_,m,I,y))))},{immediate:!0,flush:"post"}),d=()=>{p(),r()};return R(d),d}function Oe(e,s=!1){const t=h(),o=()=>t.value=Boolean(e());return o(),ve(o,s),t}function Te(e={}){const{navigator:s=be,read:t=!1,source:o,copiedDuring:a=1500,legacy:n=!1}=e,r=["copy","cut"],c=Oe(()=>s&&"clipboard"in s),p=se(()=>c.value||n),d=h(""),_=h(!1),y=ye(()=>_.value=!1,a);function m(){c.value?s.clipboard.readText().then(i=>{d.value=i}):d.value=q()}if(p.value&&t)for(const i of r)he(i,m);async function I(i=S(o)){p.value&&i!=null&&(c.value?await s.clipboard.writeText(i):K(i),d.value=i,_.value=!0,y.start())}function K(i){const f=document.createElement("textarea");f.value=i!=null?i:"",f.style.position="absolute",f.style.opacity="0",document.body.appendChild(f),f.select(),document.execCommand("copy"),f.remove()}function q(){var i,f,L;return(L=(f=(i=document==null?void 0:document.getSelection)==null?void 0:i.call(document))==null?void 0:f.toString())!=null?L:""}return{isSupported:p,text:d,copied:_,copy:I}}const C=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k="__vueuse_ssr_handlers__";C[k]=C[k]||{};C[k];var N;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(N||(N={}));var Ee=Object.defineProperty,U=Object.getOwnPropertySymbols,xe=Object.prototype.hasOwnProperty,$e=Object.prototype.propertyIsEnumerable,F=(e,s,t)=>s in e?Ee(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,we=(e,s)=>{for(var t in s||(s={}))xe.call(s,t)&&F(e,t,s[t]);if(U)for(var t of U(s))$e.call(s,t)&&F(e,t,s[t]);return e};const Se={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};we({linear:ge},Se);const Ae=["onClick"],Ce={name:"CopyButton"},ke=Object.assign(Ce,{props:{text:{type:String,default:"",required:!0}},setup(e){const s=e,{copy:t}=Te(),o=()=>{t(s.text),pe("toast.copy_text")};return(a,n)=>(u(),l("button",{class:"btn copy__btn",onClick:oe(o,["stop","prevent"])},[O(w,{name:"copy"})],8,Ae))}}),Pe=x(ke,[["__scopeId","data-v-74ab1f4a"]]),Be={class:"btn"},Me={name:"FullSizeButton"},Le=Object.assign(Me,{setup(e){return(s,t)=>(u(),l("button",Be,[O(w,{name:"full-size-image"})]))}});const Ve={key:0,class:"message__text"},je={key:1,class:"message__image"},De=["src"],Ne={class:"message__control"},Ue={class:"message__control-btns"},Fe={name:"UIMessage"},ze=Object.assign(Fe,{props:{text:{type:String,default:""},src:{type:String,default:""},side:{type:String,default:""}},emits:["open-full-size"],setup(e,{emit:s}){const t=e;return(o,a)=>{var n;return u(),l("div",{class:Q(["message",[t.side==="left"?"left-side":"right-side"]])},[t.text?(u(),l("p",Ve,z(t.text),1)):v("",!0),t.src?(u(),l("div",je,[g("img",{class:"message__image-picture",src:t.src,alt:"OpenAI-image"},null,8,De)])):v("",!0),g("div",Ne,[g("div",Ue,[O(Pe,{text:(n=t.text)!=null?n:t.src},null,8,["text"]),t.src?(u(),b(Le,{key:0,onClick:a[0]||(a[0]=r=>s("open-full-size"))})):v("",!0)])])],2)}}}),A=x(ze,[["__scopeId","data-v-016d0c2e"]]);const M=e=>(ae("data-v-a9bfd0f7"),e=e(),re(),e),Qe=M(()=>g("span",null,null,-1)),Re=M(()=>g("span",null,null,-1)),Ke=M(()=>g("span",null,null,-1)),qe=[Qe,Re,Ke],He={name:"LoaderMessage"},We=Object.assign(He,{props:{side:{type:String,default:"left"}},setup(e){const s=e;return(t,o)=>(u(),l("div",{class:Q(["loader-message",[s.side==="left"?"left-side":"right-side"]])},qe,2))}}),Ye=x(We,[["__scopeId","data-v-a9bfd0f7"]]),Ge={name:"MessagesBlock"},ft=Object.assign(Ge,{props:{chatMessages:{type:Array,default:()=>[],required:!0},loading:{type:Boolean,required:!0},typeMessages:{type:String,default:"text"}},emits:["toggle-full-size"],setup(e,{emit:s}){const t=e,o=h(null);return ce(()=>{o.value.scrollTop=o.value.scrollHeight}),(a,n)=>(u(),l("div",{ref_key:"messagesBlock",ref:o,class:"chat__page-messages"},[t.typeMessages==="text"?(u(!0),l($,{key:0},V(t.chatMessages,(r,c)=>(u(),l($,{key:c},[r.content?(u(),b(A,{key:0,text:r.content,side:r.role==="user"?"right":"left"},null,8,["text","side"])):v("",!0)],64))),128)):t.typeMessages==="image"?(u(!0),l($,{key:1},V(e.chatMessages,(r,c)=>(u(),l($,{key:c},[r.role==="user"?(u(),b(A,{key:0,text:r.content,side:"right"},null,8,["text"])):(u(),b(A,{key:1,src:r.content,side:"left",onOpenFullSize:p=>s("toggle-full-size",r.content)},null,8,["src","onOpenFullSize"]))],64))),128)):v("",!0),e.loading?(u(),b(Ye,{key:2,side:"left"})):v("",!0)],512))}}),Je={class:"chat__page-preview"},Xe={name:"PreviewText"},gt=Object.assign(Xe,{props:{text:{type:String,default:""}},setup(e){const s=e;return(t,o)=>(u(),l("div",Je,[g("p",null,z(t.$t(`preview.${s.text}`)),1)]))}});const Ze={class:"input__wrapper"},et=["value","placeholder"],tt={name:"UIInput"},st=Object.assign(tt,{props:{value:{type:String,default:""}},emits:["input","clear-input"],setup(e,{emit:s}){const t=e;return(o,a)=>(u(),l("label",Ze,[g("input",{value:t.value,class:"input",placeholder:o.$t("input_placeholder"),onInput:a[0]||(a[0]=n=>s("input",n.target.value.trim()))},null,40,et),t.value?(u(),b(w,{key:0,class:"input__clear",name:"close",onClick:a[1]||(a[1]=n=>s("clear-input"))})):v("",!0)]))}}),nt=x(st,[["__scopeId","data-v-b7c59224"]]);const ot={class:"btn submit__btn"},at={name:"SendButton"},rt=Object.assign(at,{setup(e){return(s,t)=>(u(),l("button",ot,[O(w,{name:"submit"})]))}}),ct=x(rt,[["__scopeId","data-v-705fcab2"]]),ut={class:"chat__page-controls"},lt={name:"ControlsBlock"},vt=Object.assign(lt,{emits:["send-message"],setup(e,{emit:s}){const t=h(""),o=()=>{s("send-message",t.value),t.value=""};return(a,n)=>(u(),l("div",ut,[O(nt,{value:t.value,class:"chat__page-controls-input",onInput:n[0]||(n[0]=r=>t.value=r),onKeydown:n[1]||(n[1]=ue(r=>o(),["enter"])),onClearInput:n[2]||(n[2]=r=>t.value="")},null,8,["value"]),O(ct,{class:"chat__page-controls-button",onClick:n[3]||(n[3]=r=>o())})]))}});export{_t as B,ft as _,pt as a,vt as b,gt as c,dt as t};
