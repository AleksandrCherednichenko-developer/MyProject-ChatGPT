import{u as H,i as R,d as M,r as O,e as Y,f as K,g as G,h as J,j as Z,k as X,n as ee,l as te,w as se,_ as k,o as u,c as i,b as x,m as S,p as ne,t as oe,q as g,a as y,s as h,v as V,x as ae,y as re,z as ce,F as $,A,B as ue}from"./index.defb357e.js";const le="Content-Type",z="application/json";async function ie({method:e="POST",mimeType:s=z,uri:t,body:o}){const a={code:418,ok:!1};let n=null;const r={method:e,headers:{Authorization:"Bearer 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","Content-Type":s},body:JSON.stringify(o)};try{const c=await fetch(t,r);a.code=c==null?void 0:c.status,a.ok=c==null?void 0:c.ok,c.headers.get(le).split(";")[0]===z&&(n=await c.json().catch(()=>null)),n!=null||(n={message:c.message})}catch(c){console.log(c)}return{status:a,payload:n}}class ut{static async POST({uri:s,body:t=null}){return ie({method:"POST",uri:s,body:t})}}const P=H(),{t:I}=R.global,_e=(e=null)=>P.success(I(e?`${e}`:"toast.success"),{timeout:M}),lt=(e=null)=>P.error(I(e?`${e}`:"toast.error"),{timeout:M}),it=(e=null)=>P.warning(I(e?`${e}`:"toast.warning"),{timeout:M});var F;const w=typeof window<"u",de=e=>typeof e=="string",pe=()=>{};w&&((F=window==null?void 0:window.navigator)==null?void 0:F.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function C(e){return typeof e=="function"?e():K(e)}function fe(e){return e}function q(e){return G()?(J(e),!0):!1}function ge(e,s=!0){Z()?X(e):s?e():ee(e)}function ye(e,s,t={}){const{immediate:o=!0}=t,a=O(!1);let n=null;function r(){n&&(clearTimeout(n),n=null)}function c(){a.value=!1,r()}function d(...p){r(),a.value=!0,n=setTimeout(()=>{a.value=!1,n=null,e(...p)},C(s))}return o&&(a.value=!0,w&&d()),q(c),{isPending:Y(a),start:d,stop:c}}function ve(e){var s;const t=C(e);return(s=t==null?void 0:t.$el)!=null?s:t}const me=w?window:void 0;w&&window.document;const be=w?window.navigator:void 0;w&&window.location;function he(...e){let s,t,o,a;if(de(e[0])||Array.isArray(e[0])?([t,o,a]=e,s=me):[s,t,o,a]=e,!s)return pe;Array.isArray(t)||(t=[t]),Array.isArray(o)||(o=[o]);const n=[],r=()=>{n.forEach(_=>_()),n.length=0},c=(_,v,m,b)=>(_.addEventListener(v,m,b),()=>_.removeEventListener(v,m,b)),d=se(()=>[ve(s),C(a)],([_,v])=>{r(),_&&n.push(...t.flatMap(m=>o.map(b=>c(_,m,b,v))))},{immediate:!0,flush:"post"}),p=()=>{d(),r()};return q(p),p}function Oe(e,s=!1){const t=O(),o=()=>t.value=Boolean(e());return o(),ge(o,s),t}function xe(e={}){const{navigator:s=be,read:t=!1,source:o,copiedDuring:a=1500,legacy:n=!1}=e,r=["copy","cut"],c=Oe(()=>s&&"clipboard"in s),d=te(()=>c.value||n),p=O(""),_=O(!1),v=ye(()=>_.value=!1,a);function m(){c.value?s.clipboard.readText().then(l=>{p.value=l}):p.value=D()}if(d.value&&t)for(const l of r)he(l,m);async function b(l=C(o)){d.value&&l!=null&&(c.value?await s.clipboard.writeText(l):W(l),p.value=l,_.value=!0,v.start())}function W(l){const f=document.createElement("textarea");f.value=l!=null?l:"",f.style.position="absolute",f.style.opacity="0",document.body.appendChild(f),f.select(),document.execCommand("copy"),f.remove()}function D(){var l,f,j;return(j=(f=(l=document==null?void 0:document.getSelection)==null?void 0:l.call(document))==null?void 0:f.toString())!=null?j:""}return{isSupported:d,text:p,copied:_,copy:b}}const B=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},E="__vueuse_ssr_handlers__";B[E]=B[E]||{};B[E];var Q;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Q||(Q={}));var Ie=Object.defineProperty,U=Object.getOwnPropertySymbols,we=Object.prototype.hasOwnProperty,ke=Object.prototype.propertyIsEnumerable,L=(e,s,t)=>s in e?Ie(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,$e=(e,s)=>{for(var t in s||(s={}))we.call(s,t)&&L(e,t,s[t]);if(U)for(var t of U(s))ke.call(s,t)&&L(e,t,s[t]);return e};const Se={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};$e({linear:fe},Se);const Ce=["onClick"],Te={name:"CopyButton"},Be=Object.assign(Te,{props:{text:{type:String,default:"",required:!0}},setup(e){const s=e,{copy:t}=xe(),o=()=>{t(s.text),_e("toast.copy_text")};return(a,n)=>(u(),i("button",{class:"btn copy__btn",onClick:ne(o,["stop","prevent"])},[x(S,{name:"copy"})],8,Ce))}}),Ee=k(Be,[["__scopeId","data-v-74ab1f4a"]]),Me={class:"btn"},Pe={name:"FullSizeButton"},Ne=Object.assign(Pe,{setup(e){return(s,t)=>(u(),i("button",Me,[x(S,{name:"full-size-image"})]))}});const je={key:0,class:"message__text"},Ae={key:1,class:"message__image"},ze=["src"],Fe={class:"message__control"},Qe={class:"message__control-btns"},Ue={name:"UIMessage"},Le=Object.assign(Ue,{props:{text:{type:String,default:""},src:{type:String,default:""},side:{type:String,default:""}},emits:["open-full-size"],setup(e,{emit:s}){const t=e;return(o,a)=>{var n;return u(),i("div",{class:V(["message",[t.side==="left"?"left-side":"right-side"]])},[t.text?(u(),i("p",je,oe(t.text),1)):g("",!0),t.src?(u(),i("div",Ae,[y("img",{class:"message__image-picture",src:t.src,alt:"OpenAI-image"},null,8,ze)])):g("",!0),y("div",Fe,[y("div",Qe,[x(Ee,{text:(n=t.text)!=null?n:t.src},null,8,["text"]),t.src?(u(),h(Ne,{key:0,onClick:a[0]||(a[0]=r=>s("open-full-size"))})):g("",!0)])])],2)}}}),T=k(Le,[["__scopeId","data-v-016d0c2e"]]);const N=e=>(ae("data-v-a9bfd0f7"),e=e(),re(),e),Ve=N(()=>y("span",null,null,-1)),qe=N(()=>y("span",null,null,-1)),We=N(()=>y("span",null,null,-1)),De=[Ve,qe,We],He={name:"LoaderMessage"},Re=Object.assign(He,{props:{side:{type:String,default:"left"}},setup(e){const s=e;return(t,o)=>(u(),i("div",{class:V(["loader-message",[s.side==="left"?"left-side":"right-side"]])},De,2))}}),Ye=k(Re,[["__scopeId","data-v-a9bfd0f7"]]),Ke={name:"MessagesBlock"},_t=Object.assign(Ke,{props:{chatMessages:{type:Array,default:()=>[],required:!0},loading:{type:Boolean,required:!0},typeMessages:{type:String,default:"text"}},emits:["toggle-full-size"],setup(e,{emit:s}){const t=e,o=O(null);return ce(()=>{o.value.scrollTop=o.value.scrollHeight}),(a,n)=>(u(),i("div",{ref_key:"messagesBlock",ref:o,class:"chat__page-messages"},[t.typeMessages==="text"?(u(!0),i($,{key:0},A(t.chatMessages,(r,c)=>(u(),i($,{key:c},[r.content?(u(),h(T,{key:0,text:r.content,side:r.role==="user"?"right":"left"},null,8,["text","side"])):g("",!0)],64))),128)):t.typeMessages==="image"?(u(!0),i($,{key:1},A(e.chatMessages,(r,c)=>(u(),i($,{key:c},[r.role==="user"?(u(),h(T,{key:0,text:r.content,side:"right"},null,8,["text"])):(u(),h(T,{key:1,src:r.content,side:"left",onOpenFullSize:d=>s("toggle-full-size",r.content)},null,8,["src","onOpenFullSize"]))],64))),128)):g("",!0),e.loading?(u(),h(Ye,{key:2,side:"left"})):g("",!0)],512))}});const Ge={class:"input__wrapper"},Je=["value","placeholder"],Ze={name:"UIInput"},Xe=Object.assign(Ze,{props:{value:{type:String,default:""}},emits:["input","clear-input"],setup(e,{emit:s}){const t=e;return(o,a)=>(u(),i("label",Ge,[y("input",{value:t.value,class:"input",placeholder:o.$t("input_placeholder"),onInput:a[0]||(a[0]=n=>s("input",n.target.value.trim()))},null,40,Je),t.value?(u(),h(S,{key:0,class:"input__clear",name:"close",onClick:a[1]||(a[1]=n=>s("clear-input"))})):g("",!0)]))}}),et=k(Xe,[["__scopeId","data-v-b7c59224"]]);const tt={class:"btn submit__btn"},st={name:"SendButton"},nt=Object.assign(st,{setup(e){return(s,t)=>(u(),i("button",tt,[x(S,{name:"submit"})]))}}),ot=k(nt,[["__scopeId","data-v-705fcab2"]]),at={class:"chat__page-controls"},rt={name:"ControlsBlock"},dt=Object.assign(rt,{emits:["send-message"],setup(e,{emit:s}){const t=O(""),o=()=>{s("send-message",t.value),t.value=""};return(a,n)=>(u(),i("div",at,[x(et,{value:t.value,class:"chat__page-controls-input",onInput:n[0]||(n[0]=r=>t.value=r),onKeydown:n[1]||(n[1]=ue(r=>o(),["enter"])),onClearInput:n[2]||(n[2]=r=>t.value="")},null,8,["value"]),x(ot,{class:"chat__page-controls-button",onClick:n[3]||(n[3]=r=>o())})]))}});export{ut as B,_t as _,lt as a,dt as b,it as t};
