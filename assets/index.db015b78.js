import{B as i,t as l,a as u,_ as p,b as d}from"./index.38722876.js";import{P as m}from"./index.446e3d09.js";import{_ as g,r as c,o as f,c as v,b as n}from"./index.01b553e4.js";const{VITE_API_CHAT:h,VITE_API_MODEL_CHAT:y}={BASE_URL:"/MyProject-OpenAI/",MODE:"production",DEV:!1,PROD:!0};class E{static async getMessage(s){var t;const e=await i.POST({uri:h,body:{model:y,messages:[{role:"user",content:s}],max_tokens:1e3,temperature:.2}});return e.status.ok?(t=e.payload)==null?void 0:t.choices[0].message:e.status.code===429?l("toast.limit"):u()}}const M={class:"section content-container chat__page"},P={name:"ChatPage"},b=Object.assign(P,{setup(r){const s=c([]),e=c(!1),t=async o=>{if(!o||e.value)return;e.value=!0,s.value.push({role:"user",content:o});const a=await E.getMessage(o);e.value=!1,a&&s.value.push(a)};return(o,a)=>(f(),v("section",M,[n(m,{text:"chat"}),n(p,{"chat-messages":s.value,loading:e.value},null,8,["chat-messages","loading"]),n(d,{onSendMessage:a[0]||(a[0]=_=>t(_))})]))}}),O=g(b,[["__scopeId","data-v-e148199b"]]);export{O as default};
