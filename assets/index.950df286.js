import{B as I,a as E,_ as f,b as v,c as T}from"./index.a8881c9f.js";import{_ as p,o as g,c as m,b as n,m as b,r as c,C as A,v as O,D as P,a as u}from"./index.f09b3f80.js";const{VITE_API_IMAGE:V}={VITE_API_KEY:"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",VITE_API_CHAT:"https://api.openai.com/v1/chat/completions",VITE_API_TEXT:"https://api.openai.com/v1/completions",VITE_API_IMAGE:"https://api.openai.com/v1/images/generations",VITE_API_AUDIO:"https://api.openai.com/v1/audio/transcriptions",VITE_API_MODEL_CHAT:"gpt-3.5-turbo",VITE_API_MODEL_TEXT:"text-davinci-003",VITE_API_MODEL_AUDIO:"whisper-1",VITE_DEFAULT_LOCALE:"en",VITE_FALLBACK_LOCALE:"ru",VITE_SUPPORTED_LOCALES:"en,ru",BASE_URL:"/MyProject-OpenAI/",MODE:"production",DEV:!1,PROD:!0};class y{static async getImage(t){var e;const a=await I.POST({uri:V,body:{prompt:t,n:1,size:"1024x1024"}});return a.status.ok?(e=a.payload)==null?void 0:e.data[0].url:E()}}const B={name:"CloseButton"},C=Object.assign(B,{emits:["close"],setup(i,{emit:t}){return(a,e)=>(g(),m("button",{class:"btn close__btn",onClick:e[0]||(e[0]=l=>t("close"))},[n(b,{name:"close",class:"close__btn-icon"})]))}}),L=p(C,[["__scopeId","data-v-cb1ebdb8"]]);const D={class:"section content-container chat__page"},S={class:"image__full-size"},h=["src"],M={name:"ImagePage"},x=Object.assign(M,{setup(i){const t=c([]),a=c(!1),e=c(!1),l=c(),d=async o=>{if(!o)return;a.value=!0,t.value.push({role:"user",content:o});const s=await y.getImage(o);a.value=!1,s&&t.value.push({role:"assistant",content:s})},r=(o,s=null)=>{e.value=o,l.value=s!=null?s:null};return(o,s)=>(g(),m("section",D,[n(T,{text:"image"}),n(f,{"chat-messages":t.value,loading:a.value,"type-messages":"image",onToggleFullSize:s[0]||(s[0]=_=>r(!0,_))},null,8,["chat-messages","loading"]),n(v,{onSendMessage:s[1]||(s[1]=_=>d(_))}),n(P,{class:O({"background-layout--active":e.value})},{default:A(()=>[u("div",S,[n(L,{onClose:s[2]||(s[2]=_=>r(!1))}),u("img",{src:l.value,alt:"image"},null,8,h)])]),_:1},8,["class"])]))}}),F=p(x,[["__scopeId","data-v-61ef7c64"]]);export{F as default};
