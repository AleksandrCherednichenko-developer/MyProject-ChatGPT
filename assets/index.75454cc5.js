import{B as i,t as p,a as l,_ as u,b as E,c as I}from"./index.a8881c9f.js";import{_ as T,r as n,o as m,c as A,b as _}from"./index.f09b3f80.js";const{VITE_API_CHAT:d,VITE_API_MODEL_CHAT:g}={VITE_API_KEY:"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",VITE_API_CHAT:"https://api.openai.com/v1/chat/completions",VITE_API_TEXT:"https://api.openai.com/v1/completions",VITE_API_IMAGE:"https://api.openai.com/v1/images/generations",VITE_API_AUDIO:"https://api.openai.com/v1/audio/transcriptions",VITE_API_MODEL_CHAT:"gpt-3.5-turbo",VITE_API_MODEL_TEXT:"text-davinci-003",VITE_API_MODEL_AUDIO:"whisper-1",VITE_DEFAULT_LOCALE:"en",VITE_FALLBACK_LOCALE:"ru",VITE_SUPPORTED_LOCALES:"en,ru",BASE_URL:"/MyProject-OpenAI/",MODE:"production",DEV:!1,PROD:!0};class f{static async getMessage(s){var t;const e=await i.POST({uri:d,body:{model:g,messages:[{role:"user",content:s}],max_tokens:1e3,temperature:.2}});return e.status.ok?(t=e.payload)==null?void 0:t.choices[0].message:e.status.code===429?p("toast.limit"):l()}}const h={class:"section content-container chat__page"},P={name:"ChatPage"},O=Object.assign(P,{setup(c){const s=n([]),e=n(!1),t=async o=>{if(!o||e.value)return;e.value=!0,s.value.push({role:"user",content:o});const a=await f.getMessage(o);e.value=!1,a&&s.value.push(a)};return(o,a)=>(m(),A("section",h,[_(I,{text:"chat"}),_(u,{"chat-messages":s.value,loading:e.value},null,8,["chat-messages","loading"]),_(E,{onSendMessage:a[0]||(a[0]=r=>t(r))})]))}}),L=T(O,[["__scopeId","data-v-e148199b"]]);export{L as default};
